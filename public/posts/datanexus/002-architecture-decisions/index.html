<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>2. 4개의 오픈소스를 이 조합으로 결정하기까지 | Junho Lee | DataNexus 구축 과정</title>
<meta name="keywords" content="datanexus, datahub, vanna, dozerdb, aperag">
<meta name="description" content="DataNexus의 기술 스택을 DataHub &#43; Vanna &#43; ApeRAG &#43; DozerDB로 결정한 과정. 후보군에서 탈락한 것들과 그 이유.">
<meta name="author" content="Junho Lee">
<link rel="canonical" href="http://localhost:1313/posts/datanexus/002-architecture-decisions/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.b591c240a5f958d69446e482ce33af717020166b99b3d3c647e1a530cf8cc8f6.css" integrity="sha256-tZHCQKX5WNaURuSCzjOvcXAgFmuZs9PGR&#43;GlMM&#43;MyPY=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/datanexus/002-architecture-decisions/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@biz_agentic_ai">
<meta name="twitter:creator" content="@biz_agentic_ai"><meta name="googlebot" content="index, follow">
<meta name="bingbot" content="index, follow">
<meta name="slurp" content="index, follow"><meta name="language" content="ko">
<meta name="geo.region" content="KR">
<meta name="geo.placename" content="Seoul"><meta property="og:type" content="article">
<meta property="og:site_name" content="Junho Lee | DataNexus 구축 과정">
<meta property="og:locale" content="ko_KR"><script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Article",
    "headline": "2. 4개의 오픈소스를 이 조합으로 결정하기까지",
    "description": "DataNexus의 기술 스택을 DataHub \u002b Vanna \u002b ApeRAG \u002b DozerDB로 결정한 과정. 후보군에서 탈락한 것들과 그 이유.",
    "image": "",
    "author": {
      "@type": "Person",
      "name": "Junho Lee"
    },
    "publisher": {
      "@type": "Organization",
      "name": "Junho Lee | DataNexus 구축 과정",
      "logo": {
        "@type": "ImageObject",
        "url": "http:\/\/localhost:1313\/favicon.ico"
      }
    },
    "datePublished": "2026-02-17T00:00:00Z",
    "dateModified": "2026-02-17T00:00:00Z",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "http:\/\/localhost:1313\/posts\/datanexus\/002-architecture-decisions\/"
    }
  }
  </script><style>
:root {
  --sidebar-width: 260px;
  --sidebar-bg: #1a1a2e;
  --sidebar-text: #e0e0e0;
  --sidebar-accent: #667eea;
  --sidebar-hover: rgba(102,126,234,0.15);
  --sidebar-active-bg: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

 
html { font-size: 15px; }
 
.first-entry { min-height: 240px; }
.first-entry .entry-header h1 { font-size: 24px; }
.first-entry .entry-content { font-size: 14px; }
.home-info .entry-content { font-size: 14px; }
.entry-header h2 { font-size: 20px; }
.entry-content { font-size: 13px; }
 
.post-title, .post-single .post-title { font-size: 26px; }
.post-content { font-size: 15px; line-height: 1.75; }
.post-content h1 { font-size: 24px; }
.post-content h2 { font-size: 21px; }
.post-content h3 { font-size: 18px; }
.post-content h4 { font-size: 16px; }
.post-meta { font-size: 13px; }
.toc a { font-size: 13px; }

 
.header { display: none; }
.site-wrapper { --header-height: 0px; }
.main { padding-top: 8px; }
.first-entry { margin-top: 0; }

 
.sidebar {
  position: fixed;
  top: 0;
  left: 0;
  width: var(--sidebar-width);
  height: 100vh;
  background: var(--sidebar-bg);
  color: var(--sidebar-text);
  z-index: 100;
  overflow-y: auto;
  transition: transform 0.3s ease;
}
.sidebar-inner {
  display: flex;
  flex-direction: column;
  height: 100%;
  padding: 24px 0;
}
.sidebar-header {
  padding: 0 20px 20px;
  border-bottom: 1px solid rgba(255,255,255,0.08);
  margin-bottom: 8px;
}
.sidebar-logo {
  font-size: 1.1rem;
  font-weight: 700;
  color: #fff;
  text-decoration: none;
  letter-spacing: -0.02em;
}
.sidebar-logo:hover { opacity: 0.85; }
.sidebar-subtitle {
  display: block;
  font-size: 0.75rem;
  color: rgba(255,255,255,0.4);
  margin-top: 2px;
  letter-spacing: 0.02em;
}

 
.sidebar-nav ul,
.sidebar-section ul {
  list-style: none;
  padding: 0;
  margin: 0;
}
.sidebar-nav { padding: 8px 0; }
.sidebar-nav li a,
.sidebar-section li a {
  display: block;
  padding: 9px 20px;
  color: var(--sidebar-text);
  text-decoration: none;
  font-size: 0.88rem;
  border-left: 3px solid transparent;
  transition: all 0.2s;
}
.sidebar-nav li a:hover,
.sidebar-section li a:hover {
  background: var(--sidebar-hover);
  border-left-color: var(--sidebar-accent);
  color: #fff;
}
.sidebar-nav li a.active {
  background: var(--sidebar-active-bg);
  color: #fff;
  border-left-color: transparent;
  font-weight: 600;
  border-radius: 0 20px 20px 0;
  margin-right: 12px;
}
.sidebar-section li a.active {
  color: var(--sidebar-accent);
  font-weight: 600;
  border-left-color: var(--sidebar-accent);
}

 
.sidebar-section {
  padding: 8px 0;
  border-top: 1px solid rgba(255,255,255,0.08);
  margin-top: 4px;
}
.sidebar-section-title {
  font-size: 0.7rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(255,255,255,0.4);
  padding: 8px 20px;
  margin: 0;
  font-weight: 600;
}
.sidebar-section li a {
  font-size: 0.82rem;
  padding: 7px 20px;
  display: -webkit-box;
  -webkit-line-clamp: 1;
  -webkit-box-orient: vertical;
  overflow: hidden;
  line-height: 1.4;
}

 
.sidebar-footer {
  margin-top: auto;
  padding: 16px 20px;
  border-top: 1px solid rgba(255,255,255,0.08);
}
.sidebar-footer button {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  background: none;
  border: 1px solid rgba(255,255,255,0.15);
  color: var(--sidebar-text);
  padding: 6px 14px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 0.78rem;
  transition: all 0.2s;
  width: 100%;
  justify-content: center;
}
.sidebar-footer button:hover {
  background: rgba(255,255,255,0.08);
  border-color: var(--sidebar-accent);
}
body.dark .sidebar-footer #sidebar-sun { display: inline-block; }
body.dark .sidebar-footer #sidebar-moon { display: none; }
body:not(.dark) .sidebar-footer #sidebar-sun { display: none; }
body:not(.dark) .sidebar-footer #sidebar-moon { display: inline-block; }

 
.sidebar-stats {
  padding: 10px 20px;
  border-top: 1px solid rgba(255,255,255,0.08);
  margin-top: 4px;
  display: flex;
  flex-direction: column;
  gap: 6px;
}
.sidebar-stat-pill {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 0 2px;
  height: 28px;
}
.stat-dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  flex-shrink: 0;
}
.stat-dot--pv { background: #667eea; }
.stat-dot--uv { background: #f5576c; }
.sidebar-stat-value {
  font-weight: 600;
  font-size: 0.85rem;
  color: rgba(255,255,255,0.9);
  font-variant-numeric: tabular-nums;
}
.sidebar-stat-label {
  font-size: 0.7rem;
  color: rgba(255,255,255,0.3);
}

 
.sidebar-dashboard-links {
  padding: 8px 20px;
  display: flex;
  gap: 8px;
}
.sidebar-dashboard-links a {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  padding: 4px 10px;
  font-size: 0.7rem;
  color: rgba(255,255,255,0.5);
  text-decoration: none;
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: 6px;
  transition: all 0.2s;
}
.sidebar-dashboard-links a:hover {
  color: #fff;
  background: var(--sidebar-hover);
  border-color: var(--sidebar-accent);
}

 
.site-wrapper {
  margin-left: var(--sidebar-width);
  min-height: 100vh;
}

 
.sidebar-toggle {
  display: none;
  position: fixed;
  bottom: 20px;
  left: 20px;
  z-index: 101;
  background: var(--sidebar-active-bg);
  color: #fff;
  border: none;
  border-radius: 50%;
  width: 48px;
  height: 48px;
  cursor: pointer;
  box-shadow: 0 4px 14px rgba(102,126,234,0.4);
  align-items: center;
  justify-content: center;
  transition: transform 0.2s;
}
.sidebar-toggle:hover { transform: scale(1.08); }

.sidebar-overlay {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.5);
  z-index: 99;
  backdrop-filter: blur(2px);
}

 
@media (max-width: 860px) {
  .sidebar {
    transform: translateX(-100%);
  }
  .sidebar.open {
    transform: translateX(0);
  }
  .sidebar-toggle {
    display: flex;
  }
  .sidebar-overlay.open {
    display: block;
  }
  .site-wrapper {
    margin-left: 0;
  }
}
</style>

</head>

<body class="" id="top"><script data-goatcounter="https://biz-agentic-ai.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
<aside class="sidebar" id="sidebar">
  <div class="sidebar-inner"><div class="sidebar-header">
      <a href="http://localhost:1313/" class="sidebar-logo">
        DataNexus
      </a>
      <span class="sidebar-subtitle">구축 과정</span>
    </div><nav class="sidebar-nav">
      <ul>
        <li>
          <a href="http://localhost:1313/posts/">
            Posts
          </a>
        </li>
        <li>
          <a href="http://localhost:1313/tags/">
            Tags
          </a>
        </li>
        <li>
          <a href="http://localhost:1313/categories/">
            Categories
          </a>
        </li>
        <li>
          <a href="http://localhost:1313/about/">
            About
          </a>
        </li>
      </ul>
    </nav><div class="sidebar-stats">
      <div class="sidebar-stat-pill" id="gc-container-pv" style="display:none;">
        <span class="stat-dot stat-dot--pv"></span>
        <span class="sidebar-stat-value" id="gc-value-pv">-</span>
        <span class="sidebar-stat-label">views</span>
      </div>
      <div class="sidebar-stat-pill" id="gc-container-uv" style="display:none;">
        <span class="stat-dot stat-dot--uv"></span>
        <span class="sidebar-stat-value" id="gc-value-uv">-</span>
        <span class="sidebar-stat-label">visitors</span>
      </div>
    </div>
    <script>
    (function() {
      var p = encodeURIComponent(location.pathname);
      fetch('https://biz-agentic-ai.goatcounter.com/counter/' + p + '.json')
        .then(function(r) { return r.json(); })
        .then(function(d) {
          if (d.count) {
            document.getElementById('gc-value-pv').textContent = d.count;
            document.getElementById('gc-container-pv').style.display = '';
          }
          if (d.count_unique) {
            document.getElementById('gc-value-uv').textContent = d.count_unique;
            document.getElementById('gc-container-uv').style.display = '';
          }
        })
        .catch(function() {});
    })();
    </script><div class="sidebar-dashboard-links">
      <a href="https://biz-agentic-ai.goatcounter.com/" target="_blank" rel="noopener">
        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line></svg>
        GoatCounter
      </a>
      <a href="https://analytics.google.com/analytics/web/" target="_blank" rel="noopener">
        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path><path d="M22 12A10 10 0 0 0 12 2v10z"></path></svg>
        GA4 Dashboard
      </a>
    </div>
    <div class="sidebar-footer">
      <button id="sidebar-theme-toggle" aria-label="Toggle theme">
        <svg id="sidebar-moon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
        <svg id="sidebar-sun" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
        <span>Toggle Theme</span>
      </button>
    </div>
  </div>
</aside><button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle sidebar">
  <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
</button>
<div class="sidebar-overlay" id="sidebar-overlay"></div>
<div class="site-wrapper">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Junho Lee | DataNexus 구축 과정 (Alt + H)">Junho Lee | DataNexus 구축 과정</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Posts">
                    <span>Posts</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/about/" title="About">
                    <span>About</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">Home</a>&nbsp;»&nbsp;<a href="http://localhost:1313/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      2. 4개의 오픈소스를 이 조합으로 결정하기까지
    </h1>
    <div class="post-meta"><span title='2026-02-17 00:00:00 +0000 UTC'>February 17, 2026</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;Junho Lee

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%eb%b9%84%ea%b5%90-%ed%9b%84%eb%b3%b4%ea%b5%b0" aria-label="비교 후보군">비교 후보군</a></li>
                <li>
                    <a href="#%eb%84%a4-%ea%b0%80%ec%a7%80-%ec%bb%b4%ed%8f%ac%eb%84%8c%ed%8a%b8-%ea%b0%81%ea%b0%81%ec%9d%98-%ec%9a%94%ea%b1%b4" aria-label="네 가지 컴포넌트, 각각의 요건">네 가지 컴포넌트, 각각의 요건</a></li>
                <li>
                    <a href="#%eb%a9%94%ed%83%80%eb%8d%b0%ec%9d%b4%ed%84%b0-%ec%b9%b4%ed%83%88%eb%a1%9c%ea%b7%b8" aria-label="메타데이터 카탈로그">메타데이터 카탈로그</a></li>
                <li>
                    <a href="#nl2sql-%ec%97%94%ec%a7%84" aria-label="NL2SQL 엔진">NL2SQL 엔진</a></li>
                <li>
                    <a href="#%eb%ac%b8%ec%84%9c-%ec%a7%80%ec%8b%9d%ec%97%94%ec%a7%84" aria-label="문서 지식엔진">문서 지식엔진</a></li>
                <li>
                    <a href="#%ea%b7%b8%eb%9e%98%ed%94%84-db" aria-label="그래프 DB">그래프 DB</a></li>
                <li>
                    <a href="#%ec%9d%b4-%ec%a1%b0%ed%95%a9%ec%9d%b4-%eb%a7%8c%eb%93%9c%eb%8a%94-%ea%b2%83" aria-label="이 조합이 만드는 것">이 조합이 만드는 것</a></li>
                <li>
                    <a href="#%eb%8b%a4%ec%9d%8c-%ea%b8%80" aria-label="다음 글">다음 글</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="비교-후보군">비교 후보군<a hidden class="anchor" aria-hidden="true" href="#비교-후보군">#</a></h2>
<p>후보가 너무 많았다.</p>
<p>메타데이터 카탈로그만 해도 DataHub, Amundsen, Apache Atlas, OpenMetadata. 상용까지 포함하면 Collibra, Alation도 있다. NL2SQL 엔진, 문서 지식엔진, 그래프 DB까지 네 축을 채워야 하는데 조합의 수가 기하급수적으로 불어났다.</p>
<p>구글 시트에 비교표를 만들었다. 행이 후보 도구, 열이 평가 기준. 3주쯤 지나니까 시트가 7개 탭으로 늘어나 있었다. 선택지가 많으면 안 고르는 게 문제다. 하나를 고르면 나머지와의 조합이 바뀌고, 다시 처음부터 비교해야 한다.</p>
<h2 id="네-가지-컴포넌트-각각의-요건">네 가지 컴포넌트, 각각의 요건<a hidden class="anchor" aria-hidden="true" href="#네-가지-컴포넌트-각각의-요건">#</a></h2>
<p><a href="/posts/datanexus/001-why-datanexus/">이전 글</a>에서 DataNexus의 네 가지 컴포넌트를 정의했다. 메타데이터 카탈로그, NL2SQL 엔진, 문서 지식엔진, 그래프 DB. 각 컴포넌트마다 양보할 수 없는 요건이 있었다.</p>
<p>공통 기준은 셋이다.</p>
<ul>
<li><strong>오픈소스일 것.</strong> 엔터프라이즈 라이선스 비용은 이 프로젝트의 성격과 맞지 않는다.</li>
<li><strong>멀티테넌시를 지원하거나 구현 가능할 것.</strong> 그룹사별 데이터 격리는 필수다.</li>
<li><strong>프로덕션 레디일 것.</strong> 커뮤니티 활성도, 릴리즈 주기, 문서화 수준을 봤다.</li>
</ul>
<p>여기에 컴포넌트별로 추가 요건이 붙었다.</p>
<table>
  <thead>
      <tr>
          <th>컴포넌트</th>
          <th>핵심 요건</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>메타데이터 카탈로그</td>
          <td>Business Glossary에서 용어 간 관계 정의 가능, 변경 이벤트를 실시간으로 내보낼 수 있을 것</td>
      </tr>
      <tr>
          <td>NL2SQL 엔진</td>
          <td>사용자별 컨텍스트 분리, Row-level Security 내장, 학습 루프</td>
      </tr>
      <tr>
          <td>문서 지식엔진</td>
          <td>벡터 검색 + 그래프 검색 하이브리드, 복잡한 문서(테이블/수식) 파싱</td>
      </tr>
      <tr>
          <td>그래프 DB</td>
          <td>Multi-DB(데이터베이스별 격리), Cypher 쿼리 지원</td>
      </tr>
  </tbody>
</table>
<p>이 기준을 들고 후보를 걸렀다.</p>
<h2 id="메타데이터-카탈로그">메타데이터 카탈로그<a hidden class="anchor" aria-hidden="true" href="#메타데이터-카탈로그">#</a></h2>
<p>DataHub, Amundsen, Apache Atlas, 상용(Collibra/Alation). 넷을 놓고 봤다.</p>
<p>상용은 먼저 빠졌다. 라이선스 비용도 문제지만, 이 프로젝트에서 필요한 건 카탈로그의 Glossary를 온톨로지 저장소처럼 쓰는 것이다. 상용 Glossary가 충분히 강력하긴 한데, 내부 데이터 모델에 접근해서 커스터마이징하는 데 한계가 있다.</p>
<p>Apache Atlas는 Hadoop 생태계에 묶여 있다. HBase, Solr, Kafka를 전부 띄워야 한다. 2016년에 설계된 아키텍처가 그대로인데, 클라우드 네이티브 환경에서 운영하기엔 무겁다.</p>
<p>Amundsen은 깔끔한 도구다. 검색 중심 카탈로그로는 괜찮다. 문제는 Glossary. 용어 간 관계를 정의하는 기능이 제한적이어서 온톨로지 저장소로 쓰기엔 부족했다.</p>
<p>DataHub를 선택한 결정적 이유는 세 가지다.</p>
<p><strong>Glossary 관계 4종.</strong> IsA(상속), HasA(포함), Values(값 목록), RelatedTo(일반 연관). 이 네 가지면 비즈니스 용어 간 계층구조를 표현할 수 있다. &ldquo;순매출 IsA 매출&rdquo;, &ldquo;매출 HasA 총매출, 반품, 에누리&rdquo; 같은 식이다.</p>
<p><strong>GraphQL API.</strong> 메타데이터를 프로그래밍 방식으로 읽고 쓸 수 있다. NL2SQL 엔진의 RAG Store에 온톨로지를 자동 동기화하려면 API가 유연해야 하는데, GraphQL이면 필요한 필드만 골라서 가져온다.</p>
<p><strong>Kafka MCL 이벤트.</strong> Metadata Change Log라는 이벤트 스트림을 Kafka로 내보낸다. Glossary Term이 변경되면 이벤트가 발행되고, 이걸 구독해서 그래프 DB의 온톨로지를 실시간 동기화할 수 있다. 이전 프로젝트에서 메타데이터 변경을 수동으로 반영하다가 얼마나 고생했는지 기억나서, 이 부분은 양보할 수 없었다.</p>
<h2 id="nl2sql-엔진">NL2SQL 엔진<a hidden class="anchor" aria-hidden="true" href="#nl2sql-엔진">#</a></h2>
<p>처음에 직접 만들까 생각했다. 이미 대화형 BI 솔루션을 만든 경험이 있었다. NL2SQL에 GPT와 Gemini를 붙이고, 프롬프트 엔지니어링을 최적화하고, 멀티에이전트 아키텍처를 설계하는 데까지 갔었다.</p>
<p>그 경험에서 배운 게 두 가지다. DDL만으로는 LLM이 비즈니스 맥락을 이해할 수 없다는 것. 처음부터 만들면 사용자 인증, 쿼리 로깅, 데이터 필터링, 응답 스트리밍, 쿼리 학습까지 부수 기능이 한없이 불어난다는 것. 산정해 보니 1개월 이상이었다.</p>
<p>그때 Vanna가 2.0으로 업데이트됐다.</p>
<p>1.x는 단순했다. Python 클래스 하나를 상속받아서 <code>train()</code>, <code>ask()</code> 같은 메서드를 호출하는 구조. 프로토타이핑에는 좋은데 프로덕션에 넣기엔 부족하다. 사용자별 컨텍스트 분리가 안 되고, 보안 기능도 없었다.</p>
<p>2.0은 다른 물건이다.</p>
<table>
  <thead>
      <tr>
          <th>변화</th>
          <th>의미</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Agent 기반 아키텍처</td>
          <td>독립적인 Agent 구성 요소를 조합하는 구조. 도구를 갈아 끼울 수 있다</td>
      </tr>
      <tr>
          <td>User-Aware</td>
          <td>모든 컴포넌트에 사용자 ID가 자동 전파. 테넌트별 쿼리 컨텍스트 분리</td>
      </tr>
      <tr>
          <td>Row-level Security</td>
          <td>사용자별 데이터 필터링이 프레임워크 수준에서 지원</td>
      </tr>
      <tr>
          <td>Tool Memory</td>
          <td>성공한 쿼리를 자동 학습. 같은 패턴의 질문이 오면 이전 성공 사례를 참고</td>
      </tr>
      <tr>
          <td>Streaming</td>
          <td>테이블, 차트 같은 Rich UI Component를 실시간 전송</td>
      </tr>
  </tbody>
</table>
<p>User-Aware와 Row-level Security가 결정적이었다. DataNexus는 그룹사별로 데이터를 격리해야 한다. 이걸 NL2SQL 엔진 레벨에서 지원한다는 건 직접 구현할 코드가 대폭 줄어든다는 뜻이다.</p>
<p>Tool Memory도 컸다. NL2SQL 정확도를 올리는 가장 확실한 방법 중 하나가 성공 쿼리를 축적해서 유사 질문에 재활용하는 건데, 프레임워크에 내장되어 있다. 이전에 직접 만들 때 이 부분을 따로 구현하느라 꽤 시간을 썼던 터라 반가웠다.</p>
<h2 id="문서-지식엔진">문서 지식엔진<a hidden class="anchor" aria-hidden="true" href="#문서-지식엔진">#</a></h2>
<p>벡터 검색만으로는 부족하다.</p>
<p>사업보고서나 내부 정책문서를 검색할 때, 벡터 유사도만으로 청크를 가져오면 맥락이 끊긴다. &ldquo;A사업부의 매출 인식 기준&quot;을 찾고 싶은데, 벡터 검색은 &ldquo;매출&quot;이 포함된 청크를 유사도 순으로 나열할 뿐이다. A사업부와 매출 인식 기준 사이의 관계, 이 기준이 언제 바뀌었는지 같은 그래프 구조의 정보는 벡터에 안 담긴다.</p>
<p>ApeRAG는 세 가지 검색을 결합한다.</p>
<ul>
<li><strong>Vector Search</strong> — 임베딩 기반 의미 검색. 기본.</li>
<li><strong>Full-text Search</strong> — 키워드 기반 정확 매칭. 고유명사나 코드명처럼 의미보다 문자열 자체가 중요할 때.</li>
<li><strong>GraphRAG</strong> — 문서에서 추출한 엔티티 간 관계를 그래프로 구성하고, 그래프 탐색으로 관련 정보를 찾는다.</li>
</ul>
<p>이 하이브리드가 DataNexus와 맞는 이유가 있다. DataHub의 Glossary Term을 ApeRAG의 Entity Extraction에 Taxonomy로 주입하면, 문서에서 추출된 엔티티가 자동으로 비즈니스 용어와 연결된다. Exact Match → Synonym Match → Fuzzy Match(임계값 0.85) → Context Match. 4단계 Entity Resolution을 거친다.</p>
<p>MinerU 통합도 빠뜨릴 수 없다. 엔터프라이즈 문서에는 복잡한 테이블, 수식, 다단 레이아웃이 흔하다. 일반 PDF 파서로는 테이블의 행/열 구조가 깨진다. 차세대 정보계 프로젝트 때 사업보고서 파싱으로 고생한 적이 있어서, 문서 구조를 보존하면서 파싱하는 MinerU의 가치를 알고 있었다.</p>
<h2 id="그래프-db">그래프 DB<a hidden class="anchor" aria-hidden="true" href="#그래프-db">#</a></h2>
<p>가장 큰 변수는 Neo4j의 라이선스 구조다.</p>
<p>Neo4j는 Community Edition과 Enterprise Edition으로 나뉜다. 결정적 차이는 Multi-DB. Community는 단일 데이터베이스만 지원한다. 하나의 인스턴스에 하나의 그래프. Enterprise는 같은 인스턴스 안에서 여러 데이터베이스를 만들 수 있다.</p>
<p>DataNexus에서 Multi-DB는 필수다. 그룹사별로 온톨로지 그래프를 격리해야 한다. <code>groupA_ontology_db</code>, <code>groupB_ontology_db</code>처럼 테넌트별 데이터베이스를 분리하고, 사용자 권한에 따라 접근을 제어한다. Community의 단일 DB에 모든 테넌트 데이터를 넣고 라벨로 구분하는 건 보안상 허용할 수 없다.</p>
<p>Neo4j Enterprise 라이선스를 사는 건 이 프로젝트의 원칙에 어긋난다.</p>
<p>DozerDB가 이 딜레마를 풀었다. Neo4j Community Edition 위에 Enterprise 기능을 얹는 오픈소스 플러그인이다. Multi-DB를 지원한다. <code>CREATE DATABASE</code>로 테넌트별 그래프를 만들 수 있고, Cypher 쿼리도 그대로 쓴다.</p>
<p>ArangoDB도 봤다. 멀티모델(문서 + 그래프 + 키밸류)을 지원하는 점은 매력적인데, Cypher를 쓸 수 없다. ArangoDB의 쿼리 언어 AQL이 그래프 탐색에는 괜찮지만, Neo4j 생태계의 라이브러리나 도구를 활용할 수 없게 된다. 온톨로지를 Cypher로 질의하는 패턴이 이미 많이 나와 있어서, 생태계 호환성을 우선했다.</p>
<p>DozerDB의 한계도 알고 있다. Fabric(크로스 DB 쿼리)은 아직 미지원이다. 서로 다른 데이터베이스 간에 한 번의 Cypher로 질의하는 건 불가능하다. Phase 3 이후로 미뤘다. 당장은 단일 테넌트 내 질의만으로 충분하다.</p>
<h2 id="이-조합이-만드는-것">이 조합이 만드는 것<a hidden class="anchor" aria-hidden="true" href="#이-조합이-만드는-것">#</a></h2>
<p>네 가지를 나란히 놓으면 그냥 도구 네 개다. 연결하면 파이프라인이 된다.</p>
<p>DataHub에서 Glossary Term이 변경되면 Kafka MCL 이벤트가 발행된다. 이 이벤트를 DozerDB의 온톨로지 그래프에 실시간 동기화한다. 동시에 Vanna의 RAG Store에도 반영되어, NL2SQL 프롬프트에 주입되는 맥락이 자동 갱신된다. ApeRAG의 Entity Extraction은 DataHub Glossary를 Taxonomy로 참조하므로, 문서 검색 결과도 최신 용어 체계와 연결된다.</p>
<p>한 곳에서 용어를 고치면 네 군데가 동시에 바뀐다. 이전 프로젝트에서 메타데이터 변경을 Excel로 관리하다가 한 곳을 빼먹어서 반나절을 날린 적이 있는데, 그때의 교훈이 이 설계에 들어갔다.</p>
<h2 id="다음-글">다음 글<a hidden class="anchor" aria-hidden="true" href="#다음-글">#</a></h2>
<p><a href="/posts/datanexus/003-datahub-glossary-as-ontology/">DataHub의 Business Glossary를 온톨로지로 쓸 때의 한계와 우회를 다룬다.</a></p>
<hr>
<p><em>DataNexus를 설계하고 구축하는 과정을 기록합니다. <a href="https://github.com/biz-agentic-ai">GitHub</a> | <a href="https://www.linkedin.com/in/leejuno/">LinkedIn</a></em></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/datanexus/">Datanexus</a></li>
      <li><a href="http://localhost:1313/tags/datahub/">Datahub</a></li>
      <li><a href="http://localhost:1313/tags/vanna/">Vanna</a></li>
      <li><a href="http://localhost:1313/tags/dozerdb/">Dozerdb</a></li>
      <li><a href="http://localhost:1313/tags/aperag/">Aperag</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/datanexus/003-datahub-glossary-as-ontology/">
    <span class="title">« Prev</span>
    <br>
    <span>3. DataHub Glossary를 온톨로지로 쓸 수 있을까</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/datanexus/001-why-datanexus/">
    <span class="title">Next »</span>
    <br>
    <span>1. 왜 DataNexus를 만드는가</span>
  </a>
</nav>

  </footer>
</article>
        </main>
        
<footer class="footer">
        <span>&copy; 2026 <a href="http://localhost:1313/">Junho Lee | DataNexus 구축 과정</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</div>
    <script>
    (function() {
        const toggle = document.getElementById('sidebar-toggle');
        const sidebar = document.getElementById('sidebar');
        const overlay = document.getElementById('sidebar-overlay');
        if (toggle && sidebar) {
            toggle.addEventListener('click', function() {
                sidebar.classList.toggle('open');
                overlay.classList.toggle('open');
            });
            overlay.addEventListener('click', function() {
                sidebar.classList.remove('open');
                overlay.classList.remove('open');
            });
        }
        
        const sidebarThemeBtn = document.getElementById('sidebar-theme-toggle');
        if (sidebarThemeBtn) {
            sidebarThemeBtn.addEventListener('click', function() {
                document.body.classList.toggle('dark');
                localStorage.setItem('pref-theme', document.body.classList.contains('dark') ? 'dark' : 'light');
            });
        }
    })();
    </script>
</body>

</html>
