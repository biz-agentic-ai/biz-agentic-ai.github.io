<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>4. 수퍼-서브 타입 - 고객이 개인이면서 법인일 수 있는가 | Junho Lee | DataNexus 구축 과정</title><meta name=keywords content="dw-modeling,erd"><meta name=description content="수퍼-서브 타입은 논리 모델에서 비즈니스 분류를 명확하게 만든다. 물리 모델로 넘어갈 때 세 가지 선택지가 생기고, DW에서는 그 선택이 차원 설계 전체를 바꾼다."><meta name=author content="Junho Lee"><link rel=canonical href=https://biz-agentic-ai.github.io/guides/dw-modeling/004-super-sub-type/><link crossorigin=anonymous href=/assets/css/stylesheet.f02cd38532ee71bc47a8f72d7689b18efbda747f2e684f90cc6f2c90f2311a6b.css integrity="sha256-8CzThTLucbxHqPctdomxjvvadH8uaE+QzG8skPIxGms=" rel="preload stylesheet" as=style><link rel=icon href=https://biz-agentic-ai.github.io/favicon.svg><link rel=icon type=image/svg+xml sizes=16x16 href=https://biz-agentic-ai.github.io/favicon.svg><link rel=icon type=image/svg+xml sizes=32x32 href=https://biz-agentic-ai.github.io/favicon.svg><link rel=apple-touch-icon href=https://biz-agentic-ai.github.io/favicon.svg><link rel=mask-icon href=https://biz-agentic-ai.github.io/favicon.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://biz-agentic-ai.github.io/guides/dw-modeling/004-super-sub-type/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta name=author content="Junho Lee"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@biz_agentic_ai"><meta name=twitter:creator content="@biz_agentic_ai"><meta name=googlebot content="index, follow"><meta name=bingbot content="index, follow"><meta name=slurp content="index, follow"><meta name=language content="ko"><meta name=geo.region content="KR"><meta name=geo.placename content="Seoul"><meta property="og:type" content="article"><meta property="og:site_name" content="Junho Lee | DataNexus 구축 과정"><meta property="og:locale" content="ko_KR"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","headline":"4. 수퍼-서브 타입 - 고객이 개인이면서 법인일 수 있는가","description":"수퍼-서브 타입은 논리 모델에서 비즈니스 분류를 명확하게 만든다. 물리 모델로 넘어갈 때 세 가지 선택지가 생기고, DW에서는 그 선택이 차원 설계 전체를 바꾼다.","image":"","author":{"@type":"Person","name":"Junho Lee"},"publisher":{"@type":"Organization","name":"Junho Lee | DataNexus 구축 과정","logo":{"@type":"ImageObject","url":"https:\/\/biz-agentic-ai.github.io\/favicon.svg"}},"datePublished":"2026-02-22T00:00:00Z","dateModified":"2026-02-22T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/biz-agentic-ai.github.io\/guides\/dw-modeling\/004-super-sub-type\/"}}</script><style>:root{--sidebar-width:260px;--sidebar-bg:#1a1a2e;--sidebar-text:#e0e0e0;--sidebar-accent:#667eea;--sidebar-hover:rgba(102, 126, 234, 0.15);--sidebar-active-bg:linear-gradient(135deg, #667eea 0%, #764ba2 100%)}html{font-size:15px}.first-entry{min-height:240px}.first-entry .entry-header h1{font-size:24px}.first-entry .entry-content{font-size:14px}.home-info .entry-content{font-size:14px}.entry-header h2{font-size:20px}.entry-content{font-size:13px}.post-title,.post-single .post-title{font-size:26px}.post-content{font-size:15px;line-height:1.75}.post-content h1{font-size:24px}.post-content h2{font-size:21px}.post-content h3{font-size:18px}.post-content h4{font-size:16px}.post-meta{font-size:13px}.toc a{font-size:13px}.first-entry{margin-top:0}.sidebar{position:fixed;top:0;left:0;width:var(--sidebar-width);height:100vh;background:var(--sidebar-bg);color:var(--sidebar-text);z-index:100;overflow-y:auto;transition:transform .3s ease}.sidebar-inner{display:flex;flex-direction:column;height:100%;padding:24px 0}.sidebar-header{padding:0 20px 20px;border-bottom:1px solid rgba(255,255,255,8%);margin-bottom:8px}.sidebar-logo{display:flex;align-items:center;gap:8px;font-size:1.3rem;font-weight:700;color:#fff;text-decoration:none;letter-spacing:-.02em}.sidebar-logo-img{width:28px;height:28px;border-radius:6px;object-fit:cover}.home-logo-img{width:42px;height:42px;border-radius:8px;object-fit:cover;vertical-align:middle;margin-right:8px}.sidebar-logo:hover{opacity:.85}.sidebar-subtitle{display:block;font-size:.75rem;color:rgba(255,255,255,.4);margin-top:2px;letter-spacing:.02em}.sidebar-section ul{list-style:none;padding:0;margin:0}.sidebar-section li a{display:block;padding:9px 20px;color:var(--sidebar-text);text-decoration:none;font-size:.88rem;border-left:3px solid transparent;transition:all .2s}.sidebar-section li a:hover{background:var(--sidebar-hover);border-left-color:var(--sidebar-accent);color:#fff}.sidebar-section li a.active{color:var(--sidebar-accent);font-weight:600;border-left-color:var(--sidebar-accent)}.sidebar-section{padding:8px 0;border-top:1px solid rgba(255,255,255,8%);margin-top:4px}.sidebar-section-title{font-size:.7rem;text-transform:uppercase;letter-spacing:.08em;color:rgba(255,255,255,.4);padding:8px 20px;margin:0;font-weight:600}.sidebar-section li a{font-size:.82rem;padding:7px 20px;line-height:1.4;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.sidebar-stats{padding:10px 20px;border-top:1px solid rgba(255,255,255,8%);margin-top:4px;display:none;flex-direction:column;gap:6px}.sidebar-stat-pill{display:flex;align-items:center;gap:8px;padding:0 2px;height:28px}.stat-dot{width:6px;height:6px;border-radius:50%;flex-shrink:0}.stat-dot--pv{background:#667eea}.stat-dot--uv{background:#f5576c}.sidebar-stat-value{font-weight:600;font-size:.85rem;color:rgba(255,255,255,.9);font-variant-numeric:tabular-nums}.sidebar-stat-label{font-size:.7rem;color:rgba(255,255,255,.3)}.sidebar-dashboard-links{padding:8px 20px;display:none;flex-direction:column;gap:5px}.sidebar-dashboard-links.visible{display:flex}.sidebar-stats.visible{display:flex}.sidebar-dashboard-links a{display:inline-flex;align-items:center;gap:5px;padding:4px 10px;font-size:.7rem;white-space:nowrap;color:rgba(255,255,255,.5);text-decoration:none;border:1px solid rgba(255,255,255,.1);border-radius:6px;transition:all .2s}.sidebar-dashboard-links a:hover{color:#fff;background:var(--sidebar-hover);border-color:var(--sidebar-accent)}.site-wrapper{margin-left:var(--sidebar-width);min-height:100vh}.sidebar-toggle{display:none;position:fixed;bottom:20px;left:20px;z-index:101;background:var(--sidebar-active-bg);color:#fff;border:none;border-radius:50%;width:48px;height:48px;cursor:pointer;box-shadow:0 4px 14px rgba(102,126,234,.4);align-items:center;justify-content:center;transition:transform .2s}.sidebar-toggle:hover{transform:scale(1.08)}.sidebar-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.5);z-index:99;backdrop-filter:blur(2px)}@media(max-width:860px){.sidebar{transform:translateX(-100%)}.sidebar.open{transform:translateX(0)}.sidebar-toggle{display:flex}.sidebar-overlay.open{display:block}.site-wrapper{margin-left:0}}</style><script async src="https://www.googletagmanager.com/gtag/js?id=G-Q0RS9ZG67P"></script><script>var doNotTrack=!1,dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes";if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-Q0RS9ZG67P")}</script><meta property="og:url" content="https://biz-agentic-ai.github.io/guides/dw-modeling/004-super-sub-type/"><meta property="og:site_name" content="Junho Lee | DataNexus 구축 과정"><meta property="og:title" content="4. 수퍼-서브 타입 - 고객이 개인이면서 법인일 수 있는가"><meta property="og:description" content="수퍼-서브 타입은 논리 모델에서 비즈니스 분류를 명확하게 만든다. 물리 모델로 넘어갈 때 세 가지 선택지가 생기고, DW에서는 그 선택이 차원 설계 전체를 바꾼다."><meta property="og:locale" content="ko"><meta property="og:type" content="article"><meta property="article:section" content="guides"><meta property="article:published_time" content="2026-02-22T00:00:00+00:00"><meta property="article:modified_time" content="2026-02-22T00:00:00+00:00"><meta property="article:tag" content="Dw-Modeling"><meta property="article:tag" content="Erd"><meta property="og:see_also" content="https://biz-agentic-ai.github.io/guides/dw-modeling/003-erd-notation/"><meta property="og:see_also" content="https://biz-agentic-ai.github.io/guides/dw-modeling/002-oltp-vs-dw-model/"><meta property="og:see_also" content="https://biz-agentic-ai.github.io/guides/dw-modeling/001-cloud-era-dw-modeling/"><meta name=twitter:card content="summary"><meta name=twitter:title content="4. 수퍼-서브 타입 - 고객이 개인이면서 법인일 수 있는가"><meta name=twitter:description content="수퍼-서브 타입은 논리 모델에서 비즈니스 분류를 명확하게 만든다. 물리 모델로 넘어갈 때 세 가지 선택지가 생기고, DW에서는 그 선택이 차원 설계 전체를 바꾼다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"기술 가이드","item":"https://biz-agentic-ai.github.io/guides/"},{"@type":"ListItem","position":2,"name":"DW 모델링","item":"https://biz-agentic-ai.github.io/guides/dw-modeling/"},{"@type":"ListItem","position":3,"name":"4. 수퍼-서브 타입 - 고객이 개인이면서 법인일 수 있는가","item":"https://biz-agentic-ai.github.io/guides/dw-modeling/004-super-sub-type/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"4. 수퍼-서브 타입 - 고객이 개인이면서 법인일 수 있는가","name":"4. 수퍼-서브 타입 - 고객이 개인이면서 법인일 수 있는가","description":"수퍼-서브 타입은 논리 모델에서 비즈니스 분류를 명확하게 만든다. 물리 모델로 넘어갈 때 세 가지 선택지가 생기고, DW에서는 그 선택이 차원 설계 전체를 바꾼다.","keywords":["dw-modeling","erd"],"articleBody":"고객 테이블에 주민번호와 사업자번호가 같이 있다 기간계 시스템에서 흔히 보는 구조다. 고객 테이블 하나에 개인고객 속성(주민번호, 생년월일)과 법인고객 속성(사업자번호, 대표자명)이 섞여 있다. 개인고객이면 사업자번호가 NULL이고, 법인고객이면 주민번호가 NULL이다. 고객유형코드 컬럼 하나로 구분한다.\n데이터가 적을 때는 별 문제가 안 된다. 고객이 수천만 건이 되면 이야기가 달라진다. 개인고객에만 필요한 컬럼이 법인고객 행에도 자리를 차지하고, 법인고객에만 필요한 컬럼이 개인고객 행에서 NULL로 비어 있다. 컬럼이 늘어날수록 테이블이 와이드해지고 의미가 흐려진다. “이 컬럼이 어떤 고객 유형에 해당하는 건지\"를 DDL만 보고 알기 어렵다.\n수퍼-서브 타입은 이 문제를 논리 모델 단계에서 정리하는 방법이다.\n공통 속성과 고유 속성을 분리한다 수퍼-서브 타입의 원리는 간단하다. 공통 속성은 수퍼 타입(고객)에 두고, 유형별 고유 속성은 서브 타입(개인고객, 법인고객)에 둔다.\n[고객] ← 수퍼 타입: 고객ID, 고객명, 연락처 ├─ [개인고객] ← 서브 타입: 주민번호, 생년월일 └─ [법인고객] ← 서브 타입: 사업자번호, 대표자명 고객ID 하나로 수퍼 타입과 서브 타입이 연결된다. 개인고객 테이블에는 개인고객에만 해당하는 속성만 들어간다. NULL 투성이의 와이드 테이블이 사라진다.\n서브 타입을 나누는 또 다른 이유가 있다. 서브 타입별로 다른 엔터티와 독립적으로 관계를 맺을 수 있다. 법인고객만 여신한도와 관계를 가진다든지, 개인고객만 멤버십 등급과 관계를 가진다든지. 수퍼 타입 하나에 모든 관계를 매달면 관계의 의미가 모호해지는데, 서브 타입으로 나누면 “이 관계가 어떤 유형에 해당하는지\"가 모델에서 바로 읽힌다.\n배타적인가, 중복 가능한가 서브 타입을 설계할 때 반드시 먼저 따지는 게 있다. 하나의 인스턴스가 서브 타입 중 정확히 하나에만 속하는지(Exclusive), 여러 서브 타입에 동시에 속할 수 있는지(Inclusive)다.\nExclusive 가 압도적으로 많다. 고객은 개인 아니면 법인이다. 계좌는 보통예금, 적금, 정기예금 중 하나다. 상품은 실물이거나 디지털이다. 구분코드 하나로 분류가 끝난다.\nInclusive 는 드물지만 빠뜨리면 나중에 큰 수정이 필요하다. 서비스 상품 같은 경우가 해당된다. 하나의 상품이 B2B 대상이면서 동시에 B2C 대상일 수 있다. 직원 역할도 마찬가지다. 한 사람이 영업과 기술지원을 겸하는 경우, “직원역할” 서브 타입이 Inclusive가 된다.\n설계 초기에 “이 분류가 정말 배타적인가\"를 한 번 더 따져야 한다. Exclusive라고 전제하고 모델을 짠 뒤에 겹치는 케이스가 나오면 구분코드 체계부터 관계 구조까지 뜯어고쳐야 한다.\n물리 모델로 넘어갈 때의 선택지 논리 모델에서 수퍼-서브 타입은 깔끔하다. 물리 모델로 전환할 때 선택이 갈린다.\n통합 테이블. 수퍼 타입과 서브 타입을 하나의 테이블로 합친다. 처음에 문제라고 했던 그 와이드 테이블이 되지만, 조인이 없어서 쿼리가 단순하다. 서브 타입별 고유 속성이 적으면 실용적인 선택이다.\n개별 테이블. 수퍼 타입 테이블과 서브 타입 테이블을 각각 만든다. NULL이 없고 구조가 명확하지만, 고객 정보를 온전히 보려면 수퍼 타입과 서브 타입을 조인해야 한다.\n서브 타입만. 수퍼 타입 테이블 없이 개인고객 테이블, 법인고객 테이블만 만든다. 공통 속성을 각 테이블에 중복으로 가진다. 서브 타입별로 완전히 독립적인 분석을 하는 경우에 맞지만, 고객 전체를 보려면 UNION이 필요하다.\n정답은 없다. 서브 타입 수, 고유 속성의 양, 쿼리 패턴에 따라 달라진다.\nDW 차원 설계와의 연결 DW에서는 이 선택이 차원(Dimension) 설계와 직결된다. 2편에서 다뤘던 “접근 경로” 관점이 판단 기준이 된다.\n고객 차원을 설계한다고 하자. 개인고객과 법인고객을 별도 차원으로 나누면 팩트 테이블에 FK가 늘어나고, 분석할 때 어떤 차원을 조인할지 매번 선택해야 한다. 통합 차원으로 만들면 NULL이 많은 와이드 테이블이 되지만, 1편에서 다뤘던 것처럼 클라우드 Columnar Storage에서는 NULL 컬럼의 스캔 비용이 거의 없다.\n판단 기준은 분석 패턴이다. 개인고객 매출은 연령대와 지역으로 보고, 법인고객 매출은 산업군과 매출 규모로 본다면 차원 속성 자체가 다르니 나누는 게 낫다. 고객 전체를 하나의 축으로 놓고 보는 분석이 대부분이면 통합이 편하다.\n실무에서 많이 보는 절충안은 통합 차원을 기본으로 두되, 서브 타입별 분석이 빈번한 경우 별도 뷰나 마트를 추가하는 방식이다. 클라우드 환경에서 스토리지 비용이 낮으니 중복 저장의 부담이 작다.\n다음 글에서는 DW 설계의 두 가지 큰 흐름인 Inmon 방식과 Kimball 방식을 비교한다. 1편에서 간략히 언급했던 내용을 더 구체적으로 들어간다.\n","wordCount":"547","inLanguage":"en","datePublished":"2026-02-22T00:00:00Z","dateModified":"2026-02-22T00:00:00Z","author":{"@type":"Person","name":"Junho Lee"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://biz-agentic-ai.github.io/guides/dw-modeling/004-super-sub-type/"},"publisher":{"@type":"Person","name":"Junho Lee | DataNexus 구축 과정","logo":{"@type":"ImageObject","url":"https://biz-agentic-ai.github.io/favicon.svg"}}}</script></head><body id=top><script data-goatcounter=https://biz-agentic-ai.goatcounter.com/count async src=//gc.zgo.at/count.js></script><aside class=sidebar id=sidebar><div class=sidebar-inner><div class=sidebar-header><a href=https://biz-agentic-ai.github.io/ class=sidebar-logo><img src=/images/DataNexus_Logo.jpg alt=DataNexus class=sidebar-logo-img>
DataNexus
</a><span class=sidebar-subtitle>구축 과정</span></div><div class=sidebar-section><h3 class=sidebar-section-title>DataNexus Series</h3><ul><li><a href=https://biz-agentic-ai.github.io/posts/datanexus/004-skos-compatibility-layer/ title="4. SKOS 호환 레이어를 왜 넣었는가">4. SKOS 호환 레이어를 왜 넣었는가</a></li><li><a href=https://biz-agentic-ai.github.io/posts/datanexus/003-datahub-glossary-as-ontology/ title="3. DataHub Glossary를 온톨로지로 쓸 수 있을까">3. DataHub Glossary를 온톨로지로 쓸 수 있을까</a></li><li><a href=https://biz-agentic-ai.github.io/posts/datanexus/002-architecture-decisions/ title="2. 4개의 오픈소스를 이 조합으로 결정하기까지">2. 4개의 오픈소스를 이 조합으로 결정하기까지</a></li><li><a href=https://biz-agentic-ai.github.io/posts/datanexus/001-why-datanexus/ title="1. 왜 DataNexus를 만드는가">1. 왜 DataNexus를 만드는가</a></li></ul></div><div class=sidebar-stats id=sidebar-stats><div class=sidebar-stat-pill id=gc-container-pv style=display:none><span class="stat-dot stat-dot--pv"></span>
<span class=sidebar-stat-value id=gc-value-pv>-</span>
<span class=sidebar-stat-label>views</span></div><div class=sidebar-stat-pill id=gc-container-uv style=display:none><span class="stat-dot stat-dot--uv"></span>
<span class=sidebar-stat-value id=gc-value-uv>-</span>
<span class=sidebar-stat-label>visitors</span></div></div><script>(function(){var e=encodeURIComponent(location.pathname);fetch("https://biz-agentic-ai.goatcounter.com/counter/"+e+".json").then(function(e){return e.json()}).then(function(e){e.count&&(document.getElementById("gc-value-pv").textContent=e.count,document.getElementById("gc-container-pv").style.display=""),e.count_unique&&(document.getElementById("gc-value-uv").textContent=e.count_unique,document.getElementById("gc-container-uv").style.display="")}).catch(function(){})})()</script><div class=sidebar-dashboard-links id=dashboard-links><a href=https://biz-agentic-ai.goatcounter.com/ target=_blank rel=noopener><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>
GoatCounter
</a><a href=https://analytics.google.com/analytics/web/ target=_blank rel=noopener><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21.21 15.89A10 10 0 118 2.83"/><path d="M22 12A10 10 0 0012 2v10z"/></svg>
GA4 Dashboard</a></div><script>(function(){var e=document.getElementById("dashboard-links"),t=document.getElementById("sidebar-stats");localStorage.getItem("dn-admin")&&(e.classList.add("visible"),t.classList.add("visible")),document.querySelector(".sidebar-logo").addEventListener("dblclick",function(){var n=localStorage.getItem("dn-admin");n?(localStorage.removeItem("dn-admin"),e.classList.remove("visible"),t.classList.remove("visible")):(localStorage.setItem("dn-admin","1"),e.classList.add("visible"),t.classList.add("visible"))})})()</script></div></aside><button class=sidebar-toggle id=sidebar-toggle aria-label="Toggle sidebar">
<svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button><div class=sidebar-overlay id=sidebar-overlay></div><div class=site-wrapper><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://biz-agentic-ai.github.io/ accesskey=h title="Junho Lee | DataNexus 구축 과정 (Alt + H)">Junho Lee | DataNexus 구축 과정</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://biz-agentic-ai.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://biz-agentic-ai.github.io/guides/ title=Guides><span>Guides</span></a></li><li><a href=https://biz-agentic-ai.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://biz-agentic-ai.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://biz-agentic-ai.github.io/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://biz-agentic-ai.github.io/>홈</a>&nbsp;»&nbsp;<a href=https://biz-agentic-ai.github.io/guides/>기술 가이드</a>&nbsp;»&nbsp;<a href=https://biz-agentic-ai.github.io/guides/dw-modeling/>DW 모델링</a></div><h1 class="post-title entry-hint-parent">4. 수퍼-서브 타입 - 고객이 개인이면서 법인일 수 있는가</h1><div class=post-meta><span title='2026-02-22 00:00:00 +0000 UTC'>February 22, 2026</span>&nbsp;·&nbsp;3 분&nbsp;·&nbsp;Junho Lee</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>목차</span></summary><div class=inner><ul><li><a href=#%ea%b3%a0%ea%b0%9d-%ed%85%8c%ec%9d%b4%eb%b8%94%ec%97%90-%ec%a3%bc%eb%af%bc%eb%b2%88%ed%98%b8%ec%99%80-%ec%82%ac%ec%97%85%ec%9e%90%eb%b2%88%ed%98%b8%ea%b0%80-%ea%b0%99%ec%9d%b4-%ec%9e%88%eb%8b%a4 aria-label="고객 테이블에 주민번호와 사업자번호가 같이 있다">고객 테이블에 주민번호와 사업자번호가 같이 있다</a></li><li><a href=#%ea%b3%b5%ed%86%b5-%ec%86%8d%ec%84%b1%ea%b3%bc-%ea%b3%a0%ec%9c%a0-%ec%86%8d%ec%84%b1%ec%9d%84-%eb%b6%84%eb%a6%ac%ed%95%9c%eb%8b%a4 aria-label="공통 속성과 고유 속성을 분리한다">공통 속성과 고유 속성을 분리한다</a></li><li><a href=#%eb%b0%b0%ed%83%80%ec%a0%81%ec%9d%b8%ea%b0%80-%ec%a4%91%eb%b3%b5-%ea%b0%80%eb%8a%a5%ed%95%9c%ea%b0%80 aria-label="배타적인가, 중복 가능한가">배타적인가, 중복 가능한가</a></li><li><a href=#%eb%ac%bc%eb%a6%ac-%eb%aa%a8%eb%8d%b8%eb%a1%9c-%eb%84%98%ec%96%b4%ea%b0%88-%eb%95%8c%ec%9d%98-%ec%84%a0%ed%83%9d%ec%a7%80 aria-label="물리 모델로 넘어갈 때의 선택지">물리 모델로 넘어갈 때의 선택지</a></li><li><a href=#dw-%ec%b0%a8%ec%9b%90-%ec%84%a4%ea%b3%84%ec%99%80%ec%9d%98-%ec%97%b0%ea%b2%b0 aria-label="DW 차원 설계와의 연결">DW 차원 설계와의 연결</a></li></ul></div></details></div><div class=post-content><h2 id=고객-테이블에-주민번호와-사업자번호가-같이-있다>고객 테이블에 주민번호와 사업자번호가 같이 있다<a hidden class=anchor aria-hidden=true href=#고객-테이블에-주민번호와-사업자번호가-같이-있다>#</a></h2><p>기간계 시스템에서 흔히 보는 구조다. 고객 테이블 하나에 개인고객 속성(주민번호, 생년월일)과 법인고객 속성(사업자번호, 대표자명)이 섞여 있다. 개인고객이면 사업자번호가 NULL이고, 법인고객이면 주민번호가 NULL이다. 고객유형코드 컬럼 하나로 구분한다.</p><p>데이터가 적을 때는 별 문제가 안 된다. 고객이 수천만 건이 되면 이야기가 달라진다. 개인고객에만 필요한 컬럼이 법인고객 행에도 자리를 차지하고, 법인고객에만 필요한 컬럼이 개인고객 행에서 NULL로 비어 있다. 컬럼이 늘어날수록 테이블이 와이드해지고 의미가 흐려진다. &ldquo;이 컬럼이 어떤 고객 유형에 해당하는 건지"를 DDL만 보고 알기 어렵다.</p><p>수퍼-서브 타입은 이 문제를 논리 모델 단계에서 정리하는 방법이다.</p><h2 id=공통-속성과-고유-속성을-분리한다>공통 속성과 고유 속성을 분리한다<a hidden class=anchor aria-hidden=true href=#공통-속성과-고유-속성을-분리한다>#</a></h2><p>수퍼-서브 타입의 원리는 간단하다. 공통 속성은 수퍼 타입(고객)에 두고, 유형별 고유 속성은 서브 타입(개인고객, 법인고객)에 둔다.</p><div class=highlight><pre tabindex=0 style=color:#c0caf5;background-color:#1a1b26;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-fallback data-lang=fallback><span style=display:flex><span>[고객]                    ← 수퍼 타입: 고객ID, 고객명, 연락처
</span></span><span style=display:flex><span>  ├─ [개인고객]           ← 서브 타입: 주민번호, 생년월일
</span></span><span style=display:flex><span>  └─ [법인고객]           ← 서브 타입: 사업자번호, 대표자명
</span></span></code></pre></div><p>고객ID 하나로 수퍼 타입과 서브 타입이 연결된다. 개인고객 테이블에는 개인고객에만 해당하는 속성만 들어간다. NULL 투성이의 와이드 테이블이 사라진다.</p><p>서브 타입을 나누는 또 다른 이유가 있다. 서브 타입별로 다른 엔터티와 독립적으로 관계를 맺을 수 있다. 법인고객만 여신한도와 관계를 가진다든지, 개인고객만 멤버십 등급과 관계를 가진다든지. 수퍼 타입 하나에 모든 관계를 매달면 관계의 의미가 모호해지는데, 서브 타입으로 나누면 &ldquo;이 관계가 어떤 유형에 해당하는지"가 모델에서 바로 읽힌다.</p><h2 id=배타적인가-중복-가능한가>배타적인가, 중복 가능한가<a hidden class=anchor aria-hidden=true href=#배타적인가-중복-가능한가>#</a></h2><p>서브 타입을 설계할 때 반드시 먼저 따지는 게 있다. 하나의 인스턴스가 서브 타입 중 정확히 하나에만 속하는지(Exclusive), 여러 서브 타입에 동시에 속할 수 있는지(Inclusive)다.</p><p><strong>Exclusive</strong> 가 압도적으로 많다. 고객은 개인 아니면 법인이다. 계좌는 보통예금, 적금, 정기예금 중 하나다. 상품은 실물이거나 디지털이다. 구분코드 하나로 분류가 끝난다.</p><p><strong>Inclusive</strong> 는 드물지만 빠뜨리면 나중에 큰 수정이 필요하다. 서비스 상품 같은 경우가 해당된다. 하나의 상품이 B2B 대상이면서 동시에 B2C 대상일 수 있다. 직원 역할도 마찬가지다. 한 사람이 영업과 기술지원을 겸하는 경우, &ldquo;직원역할&rdquo; 서브 타입이 Inclusive가 된다.</p><p>설계 초기에 &ldquo;이 분류가 정말 배타적인가"를 한 번 더 따져야 한다. Exclusive라고 전제하고 모델을 짠 뒤에 겹치는 케이스가 나오면 구분코드 체계부터 관계 구조까지 뜯어고쳐야 한다.</p><h2 id=물리-모델로-넘어갈-때의-선택지>물리 모델로 넘어갈 때의 선택지<a hidden class=anchor aria-hidden=true href=#물리-모델로-넘어갈-때의-선택지>#</a></h2><p>논리 모델에서 수퍼-서브 타입은 깔끔하다. 물리 모델로 전환할 때 선택이 갈린다.</p><p><strong>통합 테이블.</strong> 수퍼 타입과 서브 타입을 하나의 테이블로 합친다. 처음에 문제라고 했던 그 와이드 테이블이 되지만, 조인이 없어서 쿼리가 단순하다. 서브 타입별 고유 속성이 적으면 실용적인 선택이다.</p><p><strong>개별 테이블.</strong> 수퍼 타입 테이블과 서브 타입 테이블을 각각 만든다. NULL이 없고 구조가 명확하지만, 고객 정보를 온전히 보려면 수퍼 타입과 서브 타입을 조인해야 한다.</p><p><strong>서브 타입만.</strong> 수퍼 타입 테이블 없이 개인고객 테이블, 법인고객 테이블만 만든다. 공통 속성을 각 테이블에 중복으로 가진다. 서브 타입별로 완전히 독립적인 분석을 하는 경우에 맞지만, 고객 전체를 보려면 UNION이 필요하다.</p><p>정답은 없다. 서브 타입 수, 고유 속성의 양, 쿼리 패턴에 따라 달라진다.</p><h2 id=dw-차원-설계와의-연결>DW 차원 설계와의 연결<a hidden class=anchor aria-hidden=true href=#dw-차원-설계와의-연결>#</a></h2><p>DW에서는 이 선택이 차원(Dimension) 설계와 직결된다. <a href=https://biz-agentic-ai.github.io/guides/dw-modeling/002-oltp-vs-dw-model/>2편</a>에서 다뤘던 &ldquo;접근 경로&rdquo; 관점이 판단 기준이 된다.</p><p>고객 차원을 설계한다고 하자. 개인고객과 법인고객을 별도 차원으로 나누면 팩트 테이블에 FK가 늘어나고, 분석할 때 어떤 차원을 조인할지 매번 선택해야 한다. 통합 차원으로 만들면 NULL이 많은 와이드 테이블이 되지만, <a href=https://biz-agentic-ai.github.io/guides/dw-modeling/001-cloud-era-dw-modeling/>1편</a>에서 다뤘던 것처럼 클라우드 Columnar Storage에서는 NULL 컬럼의 스캔 비용이 거의 없다.</p><p>판단 기준은 분석 패턴이다. 개인고객 매출은 연령대와 지역으로 보고, 법인고객 매출은 산업군과 매출 규모로 본다면 차원 속성 자체가 다르니 나누는 게 낫다. 고객 전체를 하나의 축으로 놓고 보는 분석이 대부분이면 통합이 편하다.</p><p>실무에서 많이 보는 절충안은 통합 차원을 기본으로 두되, 서브 타입별 분석이 빈번한 경우 별도 뷰나 마트를 추가하는 방식이다. 클라우드 환경에서 스토리지 비용이 낮으니 중복 저장의 부담이 작다.</p><p>다음 글에서는 DW 설계의 두 가지 큰 흐름인 Inmon 방식과 Kimball 방식을 비교한다. 1편에서 간략히 언급했던 내용을 더 구체적으로 들어간다.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://biz-agentic-ai.github.io/tags/dw-modeling/>Dw-Modeling</a></li><li><a href=https://biz-agentic-ai.github.io/tags/erd/>Erd</a></li></ul><nav class=paginav><a class=prev href=https://biz-agentic-ai.github.io/guides/dw-modeling/003-erd-notation/><span class=title>« 이전 페이지</span><br><span>3. ERD 표기법 - 같은 그림, 다른 해석</span>
</a><a class=next href=https://biz-agentic-ai.github.io/guides/etl-design/004-scd/><span class=title>다음 페이지 »</span><br><span>4. SCD - 고객 주소가 바뀌면 과거 주문은 어디로 배송된 걸로 남는가</span></a></nav></footer><div class=comments><script src=https://giscus.app/client.js data-repo=biz-agentic-ai/biz-agentic-ai.github.io data-repo-id=R_kgDOPhm8OQ data-category=General data-category-id=DIC_kwDOPhm8Oc4C2uES data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=preferred_color_scheme data-lang=ko data-loading=lazy crossorigin=anonymous async></script></div></article></main><footer class=footer><span>&copy; 2026 <a href=https://biz-agentic-ai.github.io/>Junho Lee | DataNexus 구축 과정</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="복사";function s(){t.innerHTML="복사 완료!",setTimeout(()=>{t.innerHTML="복사"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></div><script>(function(){const n=document.getElementById("sidebar-toggle"),e=document.getElementById("sidebar"),t=document.getElementById("sidebar-overlay");n&&e&&(n.addEventListener("click",function(){e.classList.toggle("open"),t.classList.toggle("open")}),t.addEventListener("click",function(){e.classList.remove("open"),t.classList.remove("open")}))})()</script></body></html>